{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Universal User Profile Schema",
  "description": "A generalized user profile schema for contextualized AI and personalized services",
  "type": "object",
  "required": ["userId", "communicationStyle"],
  "properties": {
    "userId": {
      "type": "string",
      "description": "Unique identifier for the user across services",
      "minLength": 1
    },
    "communicationStyle": {
      "type": "object",
      "description": "User's preferred communication characteristics",
      "properties": {
        "tone": {
          "type": "string",
          "enum": ["formal", "casual", "friendly", "professional", "witty", "empathetic"],
          "description": "Preferred communication tone",
          "default": "casual"
        },
        "verbosity": {
          "type": "string",
          "enum": ["concise", "moderate", "detailed", "comprehensive"],
          "description": "Preferred level of detail in responses",
          "default": "moderate"
        },
        "language": {
          "type": "string",
          "description": "Preferred language for responses (ISO 639-1 code)",
          "default": "en"
        },
        "includeExplanations": {
          "type": "boolean",
          "description": "Whether to include explanations and reasoning",
          "default": true
        }
      },
      "additionalProperties": true
    },
    "expertise": {
      "type": "object",
      "description": "User's areas of knowledge and professional background",
      "properties": {
        "domains": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Areas of user expertise (e.g., 'technology', 'medicine', 'finance')",
          "default": []
        },
        "skillLevel": {
          "type": "object",
          "description": "Skill levels in specific areas",
          "additionalProperties": {
            "type": "string",
            "enum": ["beginner", "intermediate", "advanced", "expert"]
          }
        },
        "interests": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Topics of personal or professional interest",
          "default": []
        }
      },
      "additionalProperties": true
    },
    "preferences": {
      "type": "object",
      "description": "User's behavioral and service preferences",
      "properties": {
        "prioritizeSpeed": {
          "type": "boolean",
          "description": "Whether to prioritize response speed over depth/quality",
          "default": false
        },
        "adaptivePersonalization": {
          "type": "boolean",
          "description": "Whether to enable learning from user interactions",
          "default": true
        },
        "contextualAwareness": {
          "type": "boolean",
          "description": "Whether to use context from previous interactions",
          "default": true
        },
        "privacyLevel": {
          "type": "string",
          "enum": ["minimal", "standard", "enhanced", "maximum"],
          "description": "User's privacy preferences for data collection and personalization",
          "default": "standard"
        }
      },
      "additionalProperties": true
    },
    "context": {
      "type": "object",
      "description": "User's contextual information and interaction history",
      "properties": {
        "recentInteractions": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "content": {
                "type": "string",
                "description": "The interaction content (query, request, etc.)"
              },
              "timestamp": {
                "type": "string",
                "format": "date-time"
              },
              "category": {
                "type": "string",
                "description": "Category or type of interaction"
              },
              "service": {
                "type": "string",
                "description": "Service or system that handled the interaction"
              }
            },
            "required": ["content", "timestamp"]
          },
          "maxItems": 100,
          "description": "Recent user interactions for context",
          "default": []
        },
        "savedItems": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "content": {
                "type": "string"
              },
              "type": {
                "type": "string",
                "description": "Type of saved item (e.g., 'bookmark', 'favorite', 'template')"
              },
              "timestamp": {
                "type": "string",
                "format": "date-time"
              },
              "tags": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "metadata": {
                "type": "object",
                "description": "Additional metadata specific to the service or item type"
              }
            },
            "required": ["content", "type", "timestamp"]
          },
          "maxItems": 200,
          "description": "User's saved items, bookmarks, or favorites",
          "default": []
        },
        "learningPatterns": {
          "type": "object",
          "description": "Learned patterns about user behavior and preferences",
          "properties": {
            "commonTopics": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "topic": {
                    "type": "string"
                  },
                  "frequency": {
                    "type": "number"
                  },
                  "lastSeen": {
                    "type": "string",
                    "format": "date-time"
                  }
                }
              }
            },
            "timePatterns": {
              "type": "object",
              "description": "When user typically interacts with services",
              "additionalProperties": {
                "type": "number"
              }
            },
            "contextualPreferences": {
              "type": "object",
              "description": "Context-specific preferences learned over time",
              "additionalProperties": true
            }
          },
          "additionalProperties": true
        }
      },
      "additionalProperties": true
    },
    "serviceSpecific": {
      "type": "object",
      "description": "Service-specific configuration and preferences",
      "additionalProperties": {
        "type": "object",
        "description": "Configuration for a specific service",
        "properties": {
          "enabled": {
            "type": "boolean",
            "description": "Whether this service integration is enabled",
            "default": true
          },
          "configuration": {
            "type": "object",
            "description": "Service-specific configuration options",
            "additionalProperties": true
          },
          "preferences": {
            "type": "object",
            "description": "Service-specific user preferences",
            "additionalProperties": true
          }
        },
        "additionalProperties": true
      }
    },
    "metadata": {
      "type": "object",
      "description": "Profile metadata and management information",
      "properties": {
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "description": "When the profile was created"
        },
        "lastUpdated": {
          "type": "string",
          "format": "date-time",
          "description": "Last profile update timestamp"
        },
        "version": {
          "type": "string",
          "description": "Profile schema version",
          "default": "2.0.0"
        },
        "source": {
          "type": "string",
          "description": "How the profile was created or imported"
        },
        "services": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "List of services that have accessed or modified this profile",
          "default": []
        }
      },
      "additionalProperties": true
    }
  },
  "additionalProperties": true
}